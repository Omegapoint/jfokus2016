<!DOCTYPE html>
<html>
<head>
  <title>Omega Gorillas</title>

  <link href="node_modules/codemirror/lib/codemirror.css" type="text/css" rel="stylesheet"></link>
  <link href="node_modules/codemirror/theme/the-matrix.css" type="text/css" rel="stylesheet"></link>
  <link href="node_modules/codemirror/theme/the-matrix.css" type="text/css" rel="stylesheet"></link>
  <link href="node_modules/codemirror/addon/lint/lint.css" type="text/css" rel="stylesheet"></link>
  <link href="styles/base.css" type="text/css" rel="stylesheet"></link>

  <script data-main="js/app.js" src="js/require.js"></script>
  <script src="js/modal.js"></script>
  <script src="js/agent.js"></script>
  <script src="js/gameplay.js"></script>
</head>
<body>
  <div class=menu>
    <input id="play"      class="menu-button" type="button" value="Play" />
    <input id="newPlayer" class="menu-button" type="button" value="New Player" />
    <input id="clear"     class="menu-button" type="button" value="Clear" />
    <input id="api"       class="menu-button" type="button" value="Api" />
    <input id="rules"     class="menu-button" type="button" value="Rules" />
  </div>

  <div id="container">
    <div class="players">
      <div id="player_1">
        Player 1
      </div>
      <div id="player_2">
        Player 2
      </div>
    </div>
    <canvas id="canvas" width="640" height="350">
      <p>Browser does not support the canvas tag</p>
    </canvas>

    <div id="textbox" style ="border: 2px solid #fff;">
      <label style="display:block; text-align:center;color:white" for="customImpl"></label>
      <textarea id="customImpl" rows="20" cols="105%">
function runPlayer(lastBananaHit, opponent, wind, memory){
  var angle = 30 + opponent['y'];
  var velocity = 5 - wind + (opponent['x'] * 0.05);
  var returnValues = new Object();

  returnValues['velocity'] = velocity;
  returnValues['angle'] = angle;
  returnValues['memory'] = "OP Gorillas is fun! :)";
  return returnValues;
}
      </textarea>
    </div>

    <div id="api_info" class="modal">
      <div class="modal-content">
        <div class="modal-box">
          Api<br/>
          <ul>
            <li>lastBananaHit = ...</li>
            <li>opponent = ...</li>
            <li>wind = The game has wind, and it is an integer (can be negative or positive).</li>
            <li>memory = ...</li>
          </ul>
          <br/>
          Return, 5 pts
          <hr>
          < <span class="modal-btn-ok">Ok</span> ><br/>
        </div>
      </div>
    </div>

      <div id="rules_info" class="modal">
        <div class="modal-content">
          <div class="modal-box">
            <br/>
            Rules<br>
            <br>
            Points given when: Monkey-hit (10 pts), Sun-hit (5 pts)<br />
            <br>
            Each monkey has 10 (ten) turns. If no monkey has managed to hit the other, a draw is called.<br />
            A draw generates 0 (zero) points. For each miss the winner get -1 (minus one) point.<br />
            <hr>
            < <span class="close" id="modal-btn-ok">Ok</span> ><br/>
          </div>
        </div>
      </div>

    </div>

    <script id="playerImplementation">var impl = "function customPlayer() var agent_angle = 45; var agent_force = 200;}";</script>
    <script>
    var customImpl;
    require(["../node_modules/codemirror/lib/codemirror", "../node_modules/codemirror/mode/javascript/javascript", "../node_modules/codemirror/addon/hint/show-hint", "../node_modules/codemirror/addon/hint/javascript-hint", "../node_modules/codemirror/addon/edit/closebrackets", "../node_modules/codemirror/addon/edit/matchbrackets", "../node_modules/codemirror/addon/lint/lint.js", "../node_modules/codemirror/addon/lint/javascript-lint.js"], function (CodeMirror) {
      customImpl = CodeMirror.fromTextArea(document.getElementById("customImpl"), {
        "mode": "javascript",
        "theme": "the-matrix",
        "lint": true,
        "autofocus": true,
        "lineNumbers": true,
        "matchBrackets": true,
        "autoCloseBrackets": true,
        "gutters": ["CodeMirror-lint-markers"],
        "extraKeys": {
          "Ctrl-Space": "autocomplete"
        }
      });

    });
    </script>
</body>
</html>
